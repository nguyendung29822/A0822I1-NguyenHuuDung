<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>quản lý danh sách</title>
</head>
<body>
<h3>Add New Product</h3>
<input type="text" id="name" placeholder="new product">
<input type="text" id="origin" placeholder="made in">
<input type="button" value="ADD" id="btn-add" onclick="add()">
<h3>Display All Product</h3>
<h4>Product Name</h4>
<span>Số Lượng Sản Phẩm</span> <span id="soLuong"></span>

<div id="hienThi"></div>

<script>
    class shopDT {
        constructor(name, origin) {
            this.name = name;
            this.origin = origin;
        }

        getName() {
            return this.name;
        }

        getOrigin() {
            return this.origin;
        }

        setName(name) {
            this.name = name;
        }

        setOrigin(origin) {
            this.origin = origin;
        }
    }

    let shopDTList = [];
    let may1 = new shopDT("Iphone", "My");
    let may2 = new shopDT("Samsung", "Korea");
    let may3 = new shopDT("Bphone", "Viet Nam");

    shopDTList.push(may1);
    shopDTList.push(may2);
    shopDTList.push(may3);

    display(shopDTList);

    function display(list) {
        let data = '<table border="1">\n' +
            '<tr>\n' +
            '<th>TenSP</th>\n' +
            '<th>XuatXuSP</th>\n' +
            '</tr>';
        for (let i = 0; i < list.length; i++) {
            data += '<tr>\n' +
                '<td>' + list[i].getName() + '</td>' +
                '<td>' + list[i].getOrigin() + '</td>' +
                '<td><input type="button" onclick="edit(' + i + ')" value="Edit"></td>' +
                '<td><input type="button" onclick="del(' + i + ')" value="Delete"></td>' +
                '</tr>';
        }
        data += '</table>';
        document.getElementById("hienThi").innerHTML = data;
        document.getElementById("soLuong").innerHTML = list.length;


    }

    function add() {
        let name = document.getElementById("name").value;
        let origin = document.getElementById("origin").value;
        let newData = new shopDT(name, origin);
        if (document.getElementById("name").value == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("name").focus();
            return false;
        }
        if (document.getElementById("origin").value == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("origin").focus();
            return false;
        }
        shopDTList.push(newData);
        display(shopDTList);
        document.getElementById("name").value = "";
        document.getElementById("origin").value = "";
        alert("bạn đã nhập thành công");

    }

    function edit(index) {
        let newName = prompt("nhập tên sản phẩm");
        let newOrigin = prompt("nhập nơi sản xuất");

        if (newName == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("name").focus();
            return false;
        }
        if (newOrigin == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("origin").focus();
            return false;
        }
        shopDTList[index].setName(newName);
        shopDTList[index].setOrigin(newOrigin);
        alert("bạn nhập thành công");
        display(shopDTList);

    }
    function del(index) {
        shopDTList.splice(index,1);
        display(shopDTList);

    }


</script>


</body>
</html>