<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>quản lý danh sách</title>
</head>
<body>
<h3>Add New Product</h3>
<input type="text" id="name" placeholder="new product">
<input type="text" id="origin" placeholder="made in">
<input type="text" id="year" placeholder="year of manufacture">
<input type="date" id="date" placeholder="sale date"><br>
<input type="button" value="ADD" id="btn-add" onclick="add()">
<h3>Display All Product</h3>
<h4>Product Name</h4>
<span>Số Lượng Sản Phẩm</span> <span id="soLuong"></span>

<div id="hienThi"></div>

<script>
    class shopDT {
        constructor(name, origin, year, date) {
            this.name = name;
            this.origin = origin;
            this.year = year;
            this.date = date;
        }

        getName() {
            return this.name;
        }

        getOrigin() {
            return this.origin;
        }

        getYear() {
            return this.year;
        }

        getDate() {
            return this.date;
        }

        setName(name) {
            this.name = name;
        }

        setOrigin(origin) {
            this.origin = origin;
        }

        setYear(year) {
            this.year = year;
        }

        setDate(date) {
            this.date = date;
        }
    }

    let shopDTList = [];
    let may1 = new shopDT("Iphone", "My", "1994","26-10-2019");
    let may2 = new shopDT("Samsung", "Korea", "2022","25-9-2019");
    let may3 = new shopDT("Bphone", "Viet Nam", "1996","24-8-2015");

    shopDTList.push(may1);
    shopDTList.push(may2);
    shopDTList.push(may3);


    display(shopDTList);

    function display(list) {
        let data = '<table border="1">\n' +
            '<tr>\n' +
            '<th>TenSP</th>\n' +
            '<th>XuatXuSP</th>\n' +
            '<th>NamSX</th>\n' +
            '<th>NgayBan</th>\n' +
            '</tr>';
        for (let i = 0; i < list.length; i++) {
            data += '<tr>\n' +
                '<td>' + list[i].getName() + '</td>' +
                '<td>' + list[i].getOrigin() + '</td>' +
                '<td>' + list[i].getYear() + '</td>' +
                '<td>' + list[i].getDate() + '</td>' +
                '<td><input type="button" onclick="edit(' + i + ')" value="Edit"></td>' +
                '<td><input type="button" onclick="del(' + i + ')" value="Delete"></td>' +
                '</tr>';
        }
        data += '</table>';
        document.getElementById("hienThi").innerHTML = data;
        document.getElementById("soLuong").innerHTML = list.length;


    }

    function add() {
        let name = document.getElementById("name").value;
        let origin = document.getElementById("origin").value;
        let year = document.getElementById("year").value;
        let date = document.getElementById("date").value;
        let newData = new shopDT(name, origin, year,date);
        if (document.getElementById("name").value == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("name").focus();
            return false;
        }
        if (document.getElementById("origin").value == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("origin").focus();
            return false;
        }
        if (document.getElementById("year").value == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("year").focus();
            return false;
        }
        if (document.getElementById("date").value = "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("date").focus();
            return false;
        }
        shopDTList.push(newData);
        display(shopDTList);
        document.getElementById("name").value = "";
        document.getElementById("origin").value = "";
        document.getElementById("year").value = "";
        document.getElementById("date").value = "";
        alert("bạn đã nhập thành công");

    }

    function edit(index) {
        let newName = prompt("nhập tên sản phẩm");
        let newOrigin = prompt("nhập nơi sản xuất");
        let newYear = prompt("nhập năm sản xuất");
        let newDate = prompt("nhập ngày bán");

        if (newName == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("name").focus();
            return false;
        }
        if (newOrigin == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("origin").focus();
            return false;
        }
        if (newYear == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("year").focus();
            return false;
        }
        if (newDate == "") {
            alert("bạn nhập thiếu thông tin");
            document.getElementById("date").focus();
            return false;

        }
        shopDTList[index].setName(newName);
        shopDTList[index].setOrigin(newOrigin);
        shopDTList[index].setYear(newYear);
        shopDTList[index].setDate(newDate);

        alert("bạn nhập thành công");
        display(shopDTList);

    }

    function del(index) {
        shopDTList.splice(index,1);
        display(shopDTList);

    }


</script>


</body>
</html>